<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOAB 系统 - 主界面</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/system.css">
    <link rel="stylesheet" href="css/terminal.css">
</head>
<body>
    <div class="system-container">
        <!-- 顶部导航栏 -->
        <header class="system-header">
            <div class="nav-left">
                <h1 class="system-logo">TOAB</h1>
                <span class="system-status" id="systemStatus">在线</span>
            </div>
            <nav class="nav-menu">
                <button class="nav-btn active" data-section="dashboard">仪表板</button>
                <button class="nav-btn" data-section="files">文件系统</button>
                <button class="nav-btn" data-section="terminal">终端</button>
                <button class="nav-btn" data-section="decrypt">解密工具</button>
                <button class="nav-btn" data-section="story">任务日志</button>
            </nav>
            <div class="nav-right">
                <span class="user-info" id="userInfo">用户: Guest</span>
                <button class="btn-logout" id="logoutBtn">退出</button>
            </div>
        </header>

        <!-- 主内容区 -->
        <main class="system-main">
            <!-- 仪表板 -->
            <section id="dashboard" class="content-section active">
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>系统状态</h3>
                        <div class="status-indicator">
                            <span class="status-dot online"></span>
                            <span>系统运行正常</span>
                        </div>
                    </div>
                    <div class="dashboard-card">
                        <h3>待处理任务</h3>
                        <div class="task-count" id="taskCount">0</div>
                    </div>
                    <div class="dashboard-card">
                        <h3>已解密文件</h3>
                        <div class="decrypt-count" id="decryptCount">0</div>
                    </div>
                    <div class="dashboard-card">
                        <h3>系统日志</h3>
                        <div class="log-preview" id="logPreview">
                            <p>暂无日志</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 文件系统 -->
            <section id="files" class="content-section">
                <div class="file-system-container">
                    <div class="file-toolbar">
                        <div class="file-path" id="filePath">/root</div>
                        <button class="btn-refresh" id="refreshFiles">刷新</button>
                    </div>
                    <div class="file-list" id="fileList">
                        <!-- 文件列表将动态加载 -->
                    </div>
                </div>
            </section>

            <!-- 终端 -->
            <section id="terminal" class="content-section">
                <div class="terminal-container" id="terminalContainer">
                    <div class="terminal-header">
                        <span>TOAB Terminal</span>
                        <button class="btn-clear" id="clearTerminal">清空</button>
                    </div>
                    <div class="terminal-body" id="terminalBody">
                        <div class="terminal-line">
                            <span class="terminal-prompt">root@toab:~$</span>
                            <span class="terminal-welcome">欢迎使用 TOAB 终端系统</span>
                        </div>
                    </div>
                    <div class="terminal-input-line">
                        <span class="terminal-prompt">root@toab:~$</span>
                        <input type="text" class="terminal-input" id="terminalInput" autocomplete="off" autofocus>
                    </div>
                </div>
            </section>

            <!-- 解密工具 -->
            <section id="decrypt" class="content-section">
                <div class="decrypt-container">
                    <h2>代码解密工具</h2>
                    <div class="decrypt-panel">
                        <div class="decrypt-input-section">
                            <label for="encryptedCode">加密代码：</label>
                            <textarea id="encryptedCode" class="code-input" placeholder="输入需要解密的代码..."></textarea>
                        </div>
                        <div class="decrypt-controls">
                            <button class="btn-decrypt" id="decryptBtn">开始解密</button>
                            <button class="btn-clear" id="clearDecrypt">清空</button>
                        </div>
                        <div class="decrypt-output-section">
                            <label for="decryptedCode">解密结果：</label>
                            <textarea id="decryptedCode" class="code-output" readonly placeholder="解密结果将显示在这里..."></textarea>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 任务日志 -->
            <section id="story" class="content-section">
                <div class="story-container">
                    <h2>任务日志</h2>
                    <div class="story-timeline" id="storyTimeline">
                        <!-- 任务日志将动态加载 -->
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- JavaScript 模块 -->
    <script src="js/utils/storage.js"></script>
    <script src="js/utils/fileSystem.js"></script>
    <script src="js/decryption/codeDecrypt.js"></script>
    <script src="js/story/storyManager.js"></script>
    <script src="js/systemCore.js"></script>
</body>
</html>

